<html>
<head>
  <title>Lecture 14 - Associative Containers (Maps), Part I</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/270387 (en-US); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="274"/>
<h1>Lecture 14 - Associative Containers (Maps), Part I</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><ul><li>maps: associative containers for fast insert, access,, and remove</li><li style="list-style: none; display: inline"><ul><li>example: counting word occurrences</li></ul></li><li>pairs</li><li>map iterators</li><li>map member functions: <font face="Courier New">operator[]</font>, <font face="Courier New">find</font>, <font face="Courier New">insert</font>, <font face="Courier New">erase</font></li><li>efficiency</li><li>maps vs. vectors vs. lists</li></ul></div><b>12.1 Maps: Associative Containers</b><div><b><br></b></div><div>maps store pairs of &quot;associated&quot; values</div><div><br></div><div>a particular instance of a map is defined (declared) with the syntax:</div><div>     <font face="Courier New">map&lt;key_type, value_type&gt; var_name;</font></div><div><br></div><div>entries in maps are <i>pairs</i></div><div>functionally the same as a struct</div><div>     <font face="Courier New">pair&lt;const key_type, value-type&gt;</font></div><div><br></div><div>map iterators refer to pairs</div><div><br></div><div>map search, insert, and erase are all very fast</div><div>     O(log <i>n</i>) time - <i>n</i> is the number of pairs stored in the map</div><div><br></div><div><b>12.2 Counting Word Occurrences</b></div><div><b><br></b></div><div><img src="Lecture 14 - Associative Containers (Maps), P_files/Image.png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><b>12.3 Maps: Uniqueness and Ordering</b></div><div><br></div><div><img src="Lecture 14 - Associative Containers (Maps), P_files/Image [1].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div>maps are ordered by increasing value of the key</div><div>     there must be an <font face="Courier New">operator&lt;</font> defined for the key</div><div><br></div><div>once a key and its value are entered in the map</div><div>     cannot be changed</div><div>     can only be erased (with the associated value)</div><div><br></div><div>duplicate keys can not be in the map</div><div><br></div><div><b>12.4 Pairs</b></div><div><b><br></b></div><div>pairs are a templated struct with just two member variables (<font face="Courier New">first</font> and <font face="Courier New">second</font>)</div><div><br></div><div>to work with pairs, you must <font face="Courier New">#include &lt;utility&gt;</font></div><div>     already included with <font face="Courier New">#include &lt;map&gt;</font></div><div><br></div><div>examples of manipulating pairs:</div><div><img src="Lecture 14 - Associative Containers (Maps), P_files/Image [2].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><font face="Courier New">make_pair</font> function creates a pair object from the given values</div><div>     essentially a simplified constructor</div><div>most of the statements above show accessing and changing values in pais</div><div><br></div><div>two statements at the end are commented out because they cause syntax errors</div><div>     a - first entry of <font face="Courier New">p3</font> is <font face="Courier New">const</font> - cannot be changed</div><div>     b - two pairs are different types</div><div><br></div><div>each entry in the map is a pair object of type</div><div>     <font face="Courier New">pair&lt;const key_type, value_type&gt;</font></div><div><font face="Courier New"><br></font></div><div>     const is needed to ensure that the keys aren't changed</div><div><br></div><div><b>12.5 Maps: <font face="Courier New">operator[]</font></b></div><div><b><br></b></div><div>arrays and vectors are efficient <i>random access data structures</i></div><div>     <font face="Courier New">[]</font> operator is conceptually very simple</div><div><br></div><div><font face="Courier New">operator[]</font> is actually a function call</div><div>     it can do things that aren't so simple as well</div><div>     ex: <font face="Courier New">++counters[s];</font></div><div><font face="Courier New"><br></font></div><div>for maps:</div><div>the <font face="Courier New">[]</font> operator searches the map for the <b><font face="Courier New">pair</font></b> containing the <b><font face="Courier New">key</font></b></div><div><b><font face="Courier New"><br></font></b></div><div>     if it doesn't exist:</div><div>          1. create a <font face="Courier New">pair</font> containing the key and a default initialized value</div><div>          2. inserts the <font face="Courier New">pair</font> in to the map in the appropriate position</div><div>          3. returns a reference to the value stored in this new <font face="Courier New">pair</font></div><div><br></div><div>for the user: <font face="Courier New">operator[]</font> makes the map feel like a vector</div><div>     except indexing is based on a key, instead of always an <font face="Courier New">int</font></div><div><br></div><div>note that the result of using <font face="Courier New">[]</font> is that the key is <b>always</b> in the map afterwards</div><div><br></div><div><b>12.6 Map Iterators</b></div><div><b><br></b></div><div>iterators may be used to access the mpa contents sequentially</div><div>     have ++ and -- operators</div><div><br></div><div>each refers to a pair stored in the map</div><div>ex. given map iterator <font face="Courier New">it</font></div><div>     <font face="Courier New">it-&gt;first</font>, <font face="Courier New">it-&gt;second</font> refer to the values stored in that pair</div><div><br></div><div><b>12.7 Exercise</b></div><div><b><br></b></div><div>write code to create a map where the key is an integer and the value is a double</div><div>store values in the map</div><div>write code to output the contents of the map</div><div><br></div><div><img src="Lecture 14 - Associative Containers (Maps), P_files/Image [3].png" type="image/png" style="cursor: default;cursor: default;cursor: default;"/></div><div><br></div><div><b>12.8 Map Find</b></div><div><b><br></b></div><div>one of the problems with <font face="Courier New">operator[]</font> is that it always places a key/value pair in the map</div><div>sometimes we don't want this and instead just want to check if a key is there</div><div><br></div><div>the find member function of the map class does this for us</div><div><br></div><div><font face="Courier New">m.find(key);</font></div><div><br></div><div>returns a map iterator</div><div>     if it exists, returns an iterator referring to the pair</div><div>     if not, returns <font face="Courier New">map.end()</font></div><div><br></div><div><b>12.9 Map Insert</b></div><div><b><br></b></div><div>prototype for the map insert member function is:</div><div>     <font face="Courier New">m.insert(make_pair(key, value));</font></div><div><br></div><div><font face="Courier New">insert</font> returns a pair, but not the pair we might expect</div><div>     pair of a <b>map iterator</b> and a <b>bool</b></div><div>     <font face="Courier New">pair&lt;map&lt;key_type, value_type&gt;::iterator, bool&gt;</font></div><div><br></div><div><font face="Courier New">insert</font> checks to see if the key being inserted is already in the map</div><div>     if so, doesn't change the value</div><div>          returns a pair containing iterator referring to the <i>existing pair</i> and the bool value <font face="Courier New">false</font></div><div>     if not, enters the pair into the map</div><div>          returns a pair containing an iterator referring to the <i>newly added pair</i> and the bool value <font face="Courier New">true</font></div><div><br></div><div><b>12.10 Map Erase</b></div><div><b><br></b></div><div>maps provide 3 different versions of the erase member function</div><div><br></div><div><font face="Courier New">void erase(iterator p)</font></div><div>     erase the pair referred to by iterator p</div><div><br></div><div><font face="Courier New">void erase(iterator first, iterator last)</font></div><div>     erase all pairs from the maps starting at first and going up to but not including last</div><div><br></div><div><font face="Courier New">size_type erase(const key_type &amp;k)</font></div><div>     erase the pair containing key k, returning 0 or 1, depending on whether or no the key was in a pair in the map</div><div><br></div><div><b>12.11 Exercise</b></div><div><b><br></b></div><div>rewrite <font face="Courier New">word_count</font> so that it uses <font face="Courier New">find</font> and <font face="Courier New">insert</font> instead of <font face="Courier New">operator[]</font></div><div><br></div><div><img src="Lecture 14 - Associative Containers (Maps), P_files/ScreenClip.png" type="image/png" style="cursor: default;cursor: default;"/></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div>
</div></body></html> 